:source-highlighter: prettify
:icons: font
//gitlab icon is in 4.6
:iconfont-cdn: https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.0/css/font-awesome.min.css

:!sectids:
:!hardbreaks:
:stem:
:imagesdir: ../images/
:imagesoutdir: {basedir}/src/docs/images/


=  Asciidoctor, documentation from the undead (code)

include::banner.adoc[]

== image:CG_BW.jpg[]

icon:twitter[] @Cedric_Gatay

icon:code[] Developer

icon:empire[] Code-Troopers co-founder

icon:google[] GDG Tours lead

== icon:code-fork[]

 * icon:bus[] http://navigtours.com[Navig'Tours] icon:apple[] icon:android[]
 * icon:music[] Aucard de Tours / Terres du son icon:apple[] icon:android[]
 * icon:github[] FOSS:
 ** icon:calendar[] Android Betterpickers icon:android[]
 ** icon:github-alt[] sbt plugins icon:globe[]
 ** icon:github-alt[] wicket-hot-reload icon:globe[]
 ** icon:gitlab[] Gitlab contributor icon:globe[]

[.cue]
****
One can also notice various Wicket framework contributions, docker images, jenkins plugins, restx, parsley.js bridges...
****
 
== icon:life-ring[]

 * icon:keyboard-o[] Code
 * icon:fire[] Build
 * icon:book[] Books
 * icon:dashboard[] Test: OpenDeviceLab Tours

[.cue]
****
* At times, I code for a living, the rest of the time, I code for fun.

* I love helping team to shape their environment to achieve an easy to deliver pipeline (I gave a talk about this at a DevOps meetup in 2012). 
* I worked with Packt Publishing on Wicket 6, Maven 3, Android development, JavaEE 7 books
* And ultimately, as we have devices at @Code-Troopers, we have opened an OpenDeviceLab (one of the first in France) 
to allow people to test their websites / applications on various devices.
****


== icon:comment[]

 * icon:shopping-bag[] Brown Bag Lunch
 * icon:google[] Google Developer Group Tours Lead
 * icon:institution[] Polytech'Tours instructor

[.cue]
****
I love talking with people and discover how they work and think. That's why I do my best to talk and allow the people to talk to each other.
****

== ! Writing
[.canvas]
image::full_writing.gif[]

[.cue]
****
I've always loved writing technical things. From my own tips on my very intimate website (at first) to full length articles on magasines and website.
I even participated in writing books. 

However, there was always a thing that was bothering me, is that I was forced to use a counter intuitive editor. 
And being not always easily focused, I could lose a lost of time trying to produce a neat output instead of concentrate on what was important: *content* !

Asciidoctor allowed me to write and focus on the *content*, the *presentation* is the next step.
****


== What is Asciidoc ?

* Plain text markup language
* Markdown on steroid
* Multiple backends
* Attributes
* Extensions


== Agenda

 * Syntax
 * Project setup
 * Feedback

[.cue]
****
* An extensive look on the syntax that make Asciidoc, Markdown users should not be worried at first, but will discover niceties.

* Examples using Maven / Gradle to integrate in your project

* Feedback from usage in multiple project
****

== !Asciidoc syntax
[.canvas]
image::full_syntax.jpg[]

[.cue]
****
"que va piano va sano
****
== Bullet point

[.two-columns%build]
--
[source,asciidoc]
----
include::samples/_ul.adoc[]
----
[.left-content]
include::samples/_ul.adoc[]


--

== Ordered lists

[.two-columns%build]
--

[source,asciidoc]
----
include::samples/_ol.adoc[]
----

include::samples/_ol.adoc[]

--

[.cue]
****
Don't bother numbering properly. Warning issued though
****

== Font variants

[%build]
--

[source,asciidoc]
----
include::samples/_font.adoc[]
----

include::samples/_font.adoc[]

--

== Monospace content

[.full-width%build]
--
[source,asciidoc]
----
include::samples/_highlight.adoc[tags=inline]
----

include::samples/_highlight.adoc[tags=inline]
--


== Headings


[%build]
--

[source,asciidoc]
----
include::samples/_h.adoc[]
----

// trick to allow headings to be rendered without breaking the slides flow
++++
<h2> SUB HEADING </h2>
<h5> SUB^4 HEADING </h5>
++++


--


== !Rich content
[.canvas]
image::full_rich.gif[]

== Links

[.two-columns.center%build]
--

[source,asciidoc]
----
include::samples/_rich.adoc[tags=link]
----

include::samples/_rich.adoc[tags=link]


--

== Images

[.two-columns%build]
--

[source,asciidoc]
----
include::samples/_rich.adoc[tags=image]
----

include::samples/_rich.adoc[tags=image]

--

== Quotes

[%build]
--
[source,asciidoc]
----
include::samples/_rich.adoc[tags=quote]
----

include::samples/_rich.adoc[tags=quote]

--

== Stem

[.two-columns.center%build]
--

[source,asciidoc]
----
include::samples/_rich.adoc[tags=stem]
----

include::samples/_rich.adoc[tags=stem]


--

[.cue]
****
This uses mathjax to render the equations. LatexMath can even be used (if you want to play it rough)
****

== Admonition

[.center%build]
--

[source,asciidoc]
----
include::samples/_rich.adoc[tags=admonition]
----

include::samples/_rich.adoc[tags=admonition]

--

[.cue]
****
A firm warning or reprimand

NOTE: `NOTE`

TIP: `TIP`

IMPORTANT: `IMPORTANT`

CAUTION: `CAUTION`

WARNING: `WARNING`
****

== Tables

[.styledTable%build]
--

[source,asciidoc]
----
include::samples/_table.adoc[]
----

include::samples/_table.adoc[]

--



== File includes

[.center%build]
--

[source,asciidoc]
----
\include::samples/_death_star_plan.adoc[]
----

include::samples/_death_star_plan.adoc[]

--

[.cue]
****
Here comes one of the best features of Asciidoc(tor) when it comes to comparing with its rival.
File inclusion is a powerful tool that allows to split easily over multiple files while rendering in a consistent way.

NOTE: This slide deck is almost written using exclusively `include`
****


== Source highlighting

[.full-width%build]
--
[source,asciidoc]
----
include::samples/_highlight.adoc[tags=shell]
----

include::samples/_highlight.adoc[tags=shell]
--

== Highlighter

 * pygments
 * coderay
 * rouge
 * highlight.js
 * prettify

[.cue]
****
CodeRay -> Asciidoctor, AsciidoctorJ, Asciidoctor PDF
highlight.js -> Asciidoctor, AsciidoctorJ, Asciidoctor.js
prettify -> Asciidoctor, AsciidoctorJ, Asciidoctor.js
Pygments -> Asciidoctor, Asciidoctor PDF
Rouge -> Asciidoctor PDF

To use CodeRay, Pygments, or Rouge, you must have the appropriate library installed on your system. See the CodeRay or Pygments section to find installation instructions. (We don’t yet have a section about Rouge).

On the other hand, if you’re using a client-side syntax highlighting library like highlight.js or prettify, there’s no need to install additional libraries. The generated HTML will load the required source files from a CDN (or custom URL or file path).
****

== Source annotation

[.two-columns.left-content%build]
--
[source,asciidoc,subs="-callouts"]
----
include::samples/_highlight.adoc[tags=annotate]
----

include::samples/_highlight.adoc[tags=annotate]
--

== Graphing libraries

 * ditaa
 * graphviz
 * plantuml

== PlantUML

[.two-columns.center%build]
--

[source, asciidoc]
----
include::{basedir}/src/main/groovy/App.groovy[tags=uml]
----

[plantuml, diagram-classes, png]     
----
include::{basedir}/src/main/groovy/App.groovy[tags=uml]
----

--

[.cue]
****
When I say that includes are powerful, in fact this part is coming from the comments located on the top of a Groovy class file.

You can really easily mix and match the code and its documentation.
****

== Inclusion superpowers

[source, groovy]
----
include::{basedir}/src/main/groovy/App.groovy[]
----

[.cue]
****
This come from the groovydoc. If the code moves, the doc is next to it. If the code is deleted, the doc is also deleted with it.

Any good IDE will tend to help you refactor the doc too...
****


== !Where is this used ?
[.canvas]
image::full_where.gif[]

[.cue]
****
Break, this is the end of the syntax journey. 

Let's get back to where and how all this is used. 
****

== Where is used Asciidoc ?

* Groovy lang documentation
* JBoss docs
* Slide decks

== WTF Asciidoc vs Asciidoctor ?

* Asciidoc is the language
* Ruby implementation
** AsciidoctorJ Java binding
** asciidoctor.js opal transpiled version
* Broader set of tags
* More precise syntax

[.cue]
****
Last release for asciidoc python version is from 2013, whereas there is still work being done nowadays on asciidoctor.
****

== Markdown vs Asciidoc shortlist

* Document includes
* Tables
* Syntax highlighting


== !In my projects?
[.canvas]
image::full_me.gif[]

[.cue]
****
This is a suggestion for using this in your own projects.
****

== Project structure 

[diagram]
----
src/                                
   |__ docs/                          <1>
           |__ asciidoc/              <2>
                       |__ index.adoc <3>
   |__ main/
   |__ test/ 
----
<1> docs directory
<2> asciidoc "category"
<3> entrypoint to documentation


== Write content

 * vim
 * Visual Studio Code / Atom
 * IntelliJ IDEA
 * Asciidoctor.js live chrome extension
 * Whatever

== !Maven version
[.canvas]
image::full_maven.gif[]

[%build]
== Plugin configuration


[source,xml,indent=0]
----
include::{basedir}/pom.xml[tags=plugin]
----
<1> Add Asciidoctor plugin
<2> Specify JRuby version
<3> Specify AsciidoctorJ version
<4> Specify Asciidoctor PDF backend


== !Output configuration
[.canvas]
image::full_output.gif[]


== HTML
[source,xml,indent=0]
----
include::{basedir}/pom.xml[tags=toHTML]
----
<1> Use specific highlighter

== !
[.contain.canvas]
image::full_html.png[]

== PDF

[source,xml,indent=0]
----
include::{basedir}/pom.xml[tags=toPDF]
----


== !
[.canvas]
image::full_pdf.png[]

[.cue]
****
You can also output ePUB / docbook / manpage / latex / Deck.js / Reveal.js / Bespoke.js [Used here]
****


== !Gradle version
[.canvas]
image::full_gradle.gif[]

== Gradle version

[source,groovy]
------
include::{basedir}/build.gradle[]
------
<1> Add asciidoctor plugin
<2> Add asciidoctor-pdf plugin
<3> Specify Asciidoctor version
<4> Configure output backends
<5> Set attributes



== !Real world usage
[.canvas]
image::full_rw.gif[]

== Slide decks

 * JavaEE @ EPUT 
 * Docker Jenkins Slave BBL
 * Various tech talks @JUG / @Docker Meetup
 * These slides https://github.com/CedricGatay/asciidoctor-slides[icon:github[]]

== @Code-Troopers  

 * Blog and website
 * Internal documentation 
   ** DNS Bindings
   ** Projects README
   ** https://github.com/code-troopers/ct[`.ctproject`] documentation

[.cue]
****
 Blog -> [previously Jekyll, now Hugo]

We have our own tool for managing project launch in a consistent way by aliasing run commands to common verbs.

However, it might be useful at times to generate a proper documentation
****

////
[source,shell]
----
include::{basedir}/.ctproject[tags=docs]
----
////

== !Why should you use this?
[.canvas]
image::full_why.gif[]

[.cue]
****
Ok...

That's a lot of things, let's sum up why are the benefits of using a cool thing like Asciidoctor.
****


== Easy to version
image::diff_text.png[]

[.cue]
****
The first thing, the most obvious is the ease of comparing using a classical diff tool, you can easily see what has changed. 

No need to mess with revision mode or whatsoever
****

== Even visually

image::diff_visual.png[]

[.cue]
****
A nice thing is built in the most used  git web GUIs (github/bitbucket/gitlab) will show a visual diff of your content.

You can use this in Pull request handling to see what has changed in the documentation.
****

== Write on the go
image::edit_github.png[]

[.cue]
****
Are you aware of the "edit this file" magic button in git web GUIs. 

It allows easy and fast editing from wherever you are (even during a pull request review for example), it is a huge step forward
better documentation. A lot of OSS projects have seen an increase in documentation quality since they use these kind of language.
****

== Annotate easily
image::annotate_github.png[]

[.cue]
****
The same applies to annotation on documentation. Reviewing easily from your phone is comfy, isn't it ?
****

== Build with *your* tools
image::jenkins_build.png[]

[.cue]
****
And as we've just discussed, you can build your doc with your usual tools and deploy accordingly.

For instance, this project features a Jenkinsfile that publish the docs with the HTML publisher plugin, but you can then use
FTP / SCP / Docker run (or a simple `python -m SimpleHTTPServer`) to serve the documentation.
****

////
== !
 * live documentation using includes
////
== !Bad side of things
[.canvas]
image::full_bad.gif[]

[.cue]
****
However you will face the bad side of things when using a great toolset like this one.
****

== Github does not follow `include`
image::github_no_includes.png[]

[.cue]
****
Or partial `include` now, it properly links to other files.
****


== !MS Word 
[.canvas]
image::word_bleh.png[]
[.cue]
****
The other bad thing that will happen is when you *MUST* use MS Word (or Libre Office / Open Office / Pages)
****

== !Writing doc becomes addictive

[.canvas]
image::full_books.gif[]

[.cue]
****
Writing has never been this fun.
****

== Tips

* Focus on content
* Don't hesitate to split over multiple files
* Have fun writing doc
* Use includes for living content


== Thank you

 * Wanna become :
  ** doc writer ?
  ** speaker ? image:gdg.png[height=48] image:bbl.png[height=48]
  ** your own boss ?

[quote]
icon:users[] Let's have a chat !

== !Thanks
[.canvas]
image::full_thx.gif[]